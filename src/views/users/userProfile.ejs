<!DOCTYPE html>
<html lang="es">
    <%- include('../partials/head', {title: 'userDetail', estilo:'/stylesheets/usersRegister-style.css'}) %>
    <body>
        <%- include('../partials/header') %>
        <main>          
            <form name="Profile" action="/users/profile/<%= user.id %>" method="POST" enctype="multipart/form-data">
                <h2>Â¡Hola <%= user.nombre %>! </h2></br>

                <div class="foto">
                    <label for="imagenUsuario">
                        <img 
                            class="img" 
                            src="/images/users/profileImages/<%= user.imagenUsuario%>" 
                            alt="imagenUsuario"
                        >
                    </label>
                </div>
                <div class="campo">
                    <input 
                        id="id" 
                        type="id" 
                        name="id"
                        value="<%=user.id%>"
                    >
                </div>

                <div class="campo">
                    <input 
                        id="imagenUsuario" 
                        type="file" 
                        name="imagenUsuario"
                        accept="image/"
                    >
                </div>

                <% if ( locals.errors && errors.imagenUsuario) { %>
                    <span class="text-danger">
                        <%= errors.imagenUsuario.msg %>
                    </span>
                <% } %>

                <div class="campo">
                    <label for="nombre">
                        <i class="fa-solid fa-user"></i>
                    </label>
                    <input 
                        class="nombre" 
                        type="text" 
                        name="nombre" 
                        id="nombre" 
                        value= '<%= user.nombre%>' 
                        minlength="3"
                        required
                    >
                </div>
                <% if (locals.error && errors.nombre) { %>
                    <span class="feedback text-danger">
                        <%= errors.nombre.msg %>
                    </span>
                <% } %>

                <div class="campo">
                    <label for="apellido">
                        <i class="fa-solid fa-user"></i>
                    </label>
                    <input 
                        class="apellido" 
                        type="text" 
                        name="apellido" 
                        id="apellido" 
                        placeholder="agrega tu apellido"
                        value= '<%= user.apellido %>' 
                        minlength="3"
                        required
                    >
                </div>
                <% if (locals.error && errors.apellido) { %>
                    <span class="feedback text-danger">
                        <%= errors.apellido.msg %>
                    </span>
                <% } %>
                
                <div class="campo">
                    <label for="email">
                        <i class="fa-solid fa-at"></i>
                    </label>
                    <p style="text-align: left;">
                        <%= user.email %> 
                    </p> 
                </div>
                
                <div class="campo">
                    <label for="fecha_de_nacimiento">
                        <i class="fa-solid fa-calendar-days"></i>
                    </label>
                    <input 
                        type="date" 
                        name="fecha_de_nacimiento" 
                        id="fecha_de_nacimiento" 
                        value= '<%= user.fecha_de_nacimiento %>'
                        max="2004-01-01"
                        min="1900-01-01" 
                        required
                    >
                </div>
                <% if (locals.error && errors.fecha_de_nacimiento) { %>
                    <span class="feedback text-danger">
                        <%= errors.fecha_de_nacimiento.msg %>
                    </span>
                <% } %>
                
                <div class="botones">
                    
                    <button type="submit">Editar</button>
                    
                </div>
            </form>
        </main>
        <%- include('../partials/footer') %>
    </body>
</html>