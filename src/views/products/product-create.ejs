<!DOCTYPE html>
<!DOCTYPE html>
<html lang="es">
    
    <%- include('../partials/head', {title: 'Crear producto', estilo:'/stylesheets/form-style.css'}) %>

    <body>
        
        <%- include('../partials/header') %>

        <main class="main-container">    
            <form action="/products/create" method="post" enctype="multipart/form-data" id="form">
            <div>     
                <h2 class="products-title"> Formulario de Creacion de Productos</i></h2> 
            </div>
            <!-- errores -->
            <section class="errores">
                <ul>
                    
                </ul>
            </section>
                    <!-- name -->
                <div class="campo">
                    <label for="name" class="form-label">Nombre: </label>
                    <input 
                    class="nombre_y_apellido"
                     type="text" 
                     name="name"
                      id="name" placeholder="Ingrese el nombre del producto"
                     value="<%= locals.oldData ? oldData.name : null %>"
                      >
                    <span class="feedback"></span>
                </div>
                <% if ( locals.errors && errors.name) { %>
                    <span class="text-danger">
                        <%= errors.name.msg %>
                    </span>
                <% } %>
                <!-- description -->
                <div class="campo">
                    <label for="description" class="form-label">Descripción: </label >
                    <textarea
                    name="description"
                    id="description"
                    value="<%= locals.oldData ? oldData.description : null %>" >
                     </textarea>
                    <span class="feedback"></span>
                </div>
                <% if ( locals.errors && errors.description) { %>
                    <span class="text-danger">
                        <%= errors.description.msg %>
                    </span>
                <% } %>
                 <!-- price -->
                 <div class="campo">
                    <label for="price" class="form-label">Precio: $</label>
                    <input type="text" name="price" id="price" placeholder="$00.00" 
                    value="<%= locals.oldData ? oldData.price : null %>" >
                    <span class="feedback"></span>
                </div>
                <% if ( locals.errors && errors.price) { %>
                    <span class="text-danger">
                        <%= errors.price.msg %>
                    </span>
                <% } %>
                      <!-- discount -->
                      <div class="campo">
                        <label for="price" class="form-label">Descuento: </label >
                        <input type="text" name="discount" id="discount"
                        value="<%= locals.oldData ? oldData.discount : null %>" >
                        <span class="feedback"></span>
                    </div>
                    <% if ( locals.errors && errors.discount) { %>
                        <span class="text-danger">
                            <%= errors.discount.msg %>
                        </span>
                    <% } %>
                <!-- category -->
                <div class="campo" >
                    <label for="category_id" class="form-label">Categoría: </label>
                    <select name="category_id" id="category_id" class="form-input" 
                    >
                       
                        <option value="">Elegí</option>
                       
                        <% for (i=0; i < allCategorys.length;i++) { %>    
                        <option value="<%= allCategorys[i].id %>"><%= allCategorys[i].nombre %></option>
                        <% } %>

                    </select>
                </div>
                <% if ( locals.errors && errors.category_id) { %>
                    <span class="text-danger">
                        <%= errors.category_id.msg %>
                    </span>
                <% } %>
                
                    
                <div class="campo" id="talle">
                    <label for="talle_id" class="form-label">Talle: </label>
                    <select name="talle_id" id="talle_id" class="form-input">
                        
                        <option value="0">Elegí</option>

                        <% for (i=0; i < allTalles.length;i++) { %>
                            <option value="<%= allTalles[i].id %>"><%= allTalles[i].nombre %></option>
                        <% } %>

                    </select>
                </div>
           
                <div class="campo">
                    <label for="marca_id" class="form-label">Marca: </label>
                    <select name="marca_id" id="marca_id" class="form-input">
                       
                        <option value="" >Elegí</option>
                       
                        <% for (i=0; i < allMarcas.length;i++) { %>
                            <option value="<%= allMarcas[i].id %>"><%= allMarcas[i].nombre %></option>
                         <% } %>

                    </select>
                </div>
                <% if ( locals.errors && errors.marca_id) { %>
                    <span class="text-danger">
                        <%= errors.marca_id.msg %>
                    </span>
                <% } %>
                <div class="campo">
                    <label for="stock" class="form-label">Stock: </label>
                    <input class="nombre_y_apellido" type="text" name="stock" id="stock" placeholder="Ingrese la cantidad de stock "
                    value="<%= locals.oldData ? oldData.stock : null %>" >
                    <span class="feedback"></span>
                </div>
                <% if ( locals.errors && errors.stock) { %>
                    <span class="text-danger">
                        <%= errors.stock.msg %>
                    </span>
                <% } %>
                <!-- image -->
                <div class="campo">
                    <label for="image" class="form-label">Imagen: </label>
                    <input  type="file" name="image" id="image" class="nombre_y_apellido" >
                    <span class="feedback"></span>
                </div>
                <% if ( locals.errors && errors.image) { %>
                    <span class="text-danger">
                        <%= errors.image.msg %>
                    </span>
                <% } %>

                <div class="botones">
                    <button type="submit">Guardar</button>
                    <button type="reset" >Borrar</button>
                </div>
            </form>
        </main>

        <%- include('../partials/footer') %>
        <script src="/js/products/productsCreate.js"></script>
    </body>
</html>